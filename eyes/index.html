<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Occhi responsive</title>
<style>
  :root{
  --scale: 1.25;                    /* ← aumenta per ingrandire tutto (1.0–1.6) */
  --eye-base: clamp(32px, 6vw, 80px);
  --eye: calc(var(--eye-base) * var(--scale));
  --pupil: calc(var(--eye) * 0.38);
  --gap-base: clamp(12px, 4vw, 32px);
  --gap: calc(var(--gap-base) * var(--scale));
  --pad: clamp(12px, 4vw, 32px);
  }

    .frame{
    /* invece di aspect-ratio fisso + width */
    width: 100%;
    height: clamp(480px, 90vh, 1000px);
    margin: 0 auto;
    position: relative;
    overflow: hidden;
    background: url("img/sl_logo.png") center/contain no-repeat;
    }


  html, body { height:100%; margin:0; padding:0; }
  * { box-sizing: border-box; }

  /* tela responsive con rapporto fisso: cambia qui se serve 16/9, 4/3, 9/16 */
  .frame{
  aspect-ratio: 16 / 9;
  width: min(100%, 1000px);   /* <— invece di 100vw */
  margin: 0 auto;
  position: relative;
  overflow: hidden;
  background: url("img/sl_logo.png") center/contain no-repeat;
  }

  html, body { overflow: hidden; }

  /* occhi centrati e scalabili */
  .eyes{
    position: absolute; inset: 0;
    display: grid; place-items: center;
  }
  .row{
    display: flex; align-items: center; justify-content: center; gap: var(--gap);
    transform: translateZ(0); /* render più fluido */
  }
  .eye{
    width: var(--eye); height: var(--eye);
    background: #fff; border: max(2px, calc(var(--eye)*0.05)) solid #222;
    border-radius: 50%; position: relative;
    box-shadow: 0 3px 8px rgba(0,0,0,.25) inset;
  }
  .pupil{
    width: var(--pupil); height: var(--pupil);
    background:#222; border-radius:50%;
    position:absolute; top:50%; left:50%;
    translate: -50% -50%;
    transition: transform .05s linear;
  }

  /* spazi più stretti su telefoni */
  @media (max-width: 480px){
    :root{ --gap: clamp(12px, 5vw, 24px); }
  }

  /* rispetto accessibilità: niente inseguimento se l’utente riduce le animazioni */
  @media (prefers-reduced-motion: reduce){
    .pupil{ transition: none; }
    body{ scroll-behavior: auto; }
  }
</style>
</head>
<body>
  <div class="frame">
    <div class="eyes">
      <div class="row">
        <div class="eye"><div class="pupil"></div></div>
        <div class="eye"><div class="pupil"></div></div>
      </div>
    </div>

  </div>

<script>
  // inseguimento proporzionale alla dimensione dell'occhio
  document.addEventListener('mousemove', e => {
    document.querySelectorAll('.eye').forEach(eye => {
      const p = eye.querySelector('.pupil');
      const r = eye.getBoundingClientRect();
      const dx = e.clientX - (r.left + r.width/2);
      const dy = e.clientY - (r.top  + r.height/2);
      const a = Math.atan2(dy, dx);
      const max = r.width * 0.22; // raggio utile in funzione della grandezza
      const d = Math.min(max, Math.hypot(dx, dy) * 0.2);
      p.style.transform = `translate(${Math.cos(a)*d}px, ${Math.sin(a)*d}px)`;
    });
  }, {passive:true});
</script>
</body>
</html>
